"use strict";function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function $(e){return null==e?[]:"string"==typeof e?[].concat(_toConsumableArray(document.querySelectorAll(e))):"number"==typeof e.nodeType?Array.of(e):"number"==typeof e.length?[].concat(_toConsumableArray(e)):void 0}function on(e,t,r){return this.forEach(function(a){a.addEventListener(e,t,r)}),this}function addClass(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];this.forEach(function(e){var r;(r=e.classList).add.apply(r,t)})}function removeClass(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return this.forEach(function(e){var r;(r=e.classList).remove.apply(r,t)}),this}function toggleClass(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return this.forEach(function(e){var r;(r=e.classList).toggle.apply(r,t)}),this}function hasClass(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var a=!0,i=!1,n=void 0;try{for(var o,s=this[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l,c=o.value;return(l=c.classList).contains.apply(l,t)}}catch(u){i=!0,n=u}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw n}}}function css(e){return this.forEach(function(t){for(var r in e)t.style[r]=e[r]}),this}function width(e){return this.forEach(function(t){t.width=e}),this}function height(e){return this.forEach(function(t){t.height=e}),this}function trigger(e){return this.forEach(function(t){simulate(t,e)}),this}function remove(){return this.forEach(function(e){e.parentNode.removeChild(e)}),this}function insert(e){return this.forEach(function(t){t.innerHTML=e}),this}function text(e){return this.forEach(function(t){t.innerHTML=e}),this}function simulate(e,t){var r,a=extend(defaultOptions,arguments[2]||{}),i=null;for(var n in eventMatchers)if(eventMatchers[n].test(t)){i=n;break}if(document.createEvent)r=document.createEvent(i),"HTMLEvents"==i?r.initEvent(t,a.bubbles,a.cancelable):r.initMouseEvent(t,a.bubbles,a.cancelable,document.defaultView,a.button,a.pointerX,a.pointerY,a.pointerX,a.pointerY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,e),e.dispatchEvent(r);else{a.clientX=a.pointerX,a.clientY=a.pointerY;var o=document.createEventObject();r=extend(o,a),e.fireEvent("on"+t,r)}return e}function extend(e,t){for(var r in t)e[r]=t[r];return e}function GoGame(){new GameplayDispatcher}var _set=function e(t,r,a,i){var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var o=Object.getPrototypeOf(t);null!==o&&e(o,r,a,i)}else if("value"in n&&n.writable)n.value=a;else{var s=n.set;void 0!==s&&s.call(i,a)}return a},_get=function(e,t,r){for(var a=!0;a;){var i=e,n=t,o=r;s=c=l=void 0,a=!1;var s=Object.getOwnPropertyDescriptor(i,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,t=n,r=o,a=!0}},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},a=Math.pow(2,53)-1,i=function(e){var t=r(e);return Math.min(Math.max(t,0),a)};return function(e){var r=this,a=Object(e);if(null==e)throw new TypeError("Array.from doit utiliser un objet semblable à un tableau - null ou undefined ne peuvent pas être utilisés");var n,o=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof o){if(!t(o))throw new TypeError("Array.from: lorsqu il est utilisé le deuxième argument doit être une fonction");arguments.length>2&&(n=arguments[2])}for(var s,l=i(a.length),c=t(r)?Object(new r(l)):new Array(l),u=0;l>u;)s=a[u],c[u]=o?"undefined"==typeof n?o(s,u):o.call(n,s,u):s,u+=1;return c.length=l,c}}());var eventMatchers={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},defaultOptions={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0};!function(e){function t(e){var t=e.length,a=r.type(e);return"function"===a||r.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var r=function c(e,t){return new c.fn.init(e,t)};r.isWindow=function(e){return null!=e&&e==e.window},r.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(t in e);return void 0===t||n.call(e,t)},r.each=function(e,r,a){var i,n=0,o=e.length,s=t(e);if(a){if(s)for(;o>n&&(i=r.apply(e[n],a),i!==!1);n++);else for(n in e)if(i=r.apply(e[n],a),i===!1)break}else if(s)for(;o>n&&(i=r.call(e[n],n,e[n]),i!==!1);n++);else for(n in e)if(i=r.call(e[n],n,e[n]),i===!1)break;return e},r.data=function(e,t,i){if(void 0===i){var n=e[r.expando],o=n&&a[n];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var n=e[r.expando]||(e[r.expando]=++r.uuid);return a[n]=a[n]||{},a[n][t]=i,i}},r.removeData=function(e,t){var i=e[r.expando],n=i&&a[i];n&&r.each(t,function(e,t){delete n[t]})},r.extend=function(){var e,t,a,i,n,o,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==r.type(s)&&(s={}),l===c&&(s=this,l--);c>l;l++)if(null!=(n=arguments[l]))for(i in n)e=s[i],a=n[i],s!==a&&(u&&a&&(r.isPlainObject(a)||(t=r.isArray(a)))?(t?(t=!1,o=e&&r.isArray(e)?e:[]):o=e&&r.isPlainObject(e)?e:{},s[i]=r.extend(u,o,a)):void 0!==a&&(s[i]=a));return s},r.queue=function(e,a,i){function n(e,r){var a=r||[];return null!=e&&(t(Object(e))?!function(e,t){for(var r=+t.length,a=0,i=e.length;r>a;)e[i++]=t[a++];if(r!==r)for(;void 0!==t[a];)e[i++]=t[a++];return e.length=i,e}(a,"string"==typeof e?[e]:e):[].push.call(a,e)),a}if(e){a=(a||"fx")+"queue";var o=r.data(e,a);return i?(!o||r.isArray(i)?o=r.data(e,a,n(i)):o.push(i),o):o||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,a){t=t||"fx";var i=r.queue(a,t),n=i.shift();"inprogress"===n&&(n=i.shift()),n&&("fx"===t&&i.unshift("inprogress"),n.call(a,function(){r.dequeue(a,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),a=this.offset(),i=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:r(e).offset();return a.top-=parseFloat(t.style.marginTop)||0,a.left-=parseFloat(t.style.marginLeft)||0,e.style&&(i.top+=parseFloat(e.style.borderTopWidth)||0,i.left+=parseFloat(e.style.borderLeftWidth)||0),{top:a.top-i.top,left:a.left-i.left}}};var a={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var i={},n=i.hasOwnProperty,o=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)i["[object "+s[l]+"]"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,r,a){function i(e){for(var t=-1,r=e?e.length:0,a=[];++t<r;){var i=e[t];i&&a.push(i)}return a}function n(e){return d.isWrapped(e)?e=[].slice.call(e):d.isNode(e)&&(e=[e]),e}function o(e){var t=p.data(e,"velocity");return null===t?a:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,r,a,i){function n(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((n(t,r)*e+o(t,r))*e+s(t))*e}function c(e,t,r){return 3*n(t,r)*e*e+2*o(t,r)*e+s(t)}function u(t,r){for(var i=0;d>i;++i){var n=c(r,e,a);if(0===n)return r;var o=l(r,e,a)-t;r-=o/n}return r}function h(){for(var t=0;b>t;++t)w[t]=l(t*x,e,a)}function p(t,r,i){var n,o,s=0;do o=r+(i-r)/2,n=l(o,e,a)-t,n>0?i=o:r=o;while(Math.abs(n)>v&&++s<m);return o}function y(t){for(var r=0,i=1,n=b-1;i!=n&&w[i]<=t;++i)r+=x;--i;var o=(t-w[i])/(w[i+1]-w[i]),s=r+o*x,l=c(s,e,a);return l>=g?u(t,s):0==l?s:p(t,r,r+x)}function f(){C=!0,(e!=r||a!=i)&&h()}var d=4,g=.001,v=1e-7,m=10,b=11,x=1/(b-1),S="Float32Array"in t;if(4!==arguments.length)return!1;for(var k=0;4>k;++k)if("number"!=typeof arguments[k]||isNaN(arguments[k])||!isFinite(arguments[k]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var w=S?new Float32Array(b):new Array(b),C=!1,_=function(t){return C||f(),e===r&&a===i?t:0===t?0:1===t?1:l(y(t),r,i)};_.getControlPoints=function(){return[{x:e,y:r},{x:a,y:i}]};var P="generateBezier("+[e,r,a,i]+")";return _.toString=function(){return P},_}function c(e,t){var r=e;return d.isString(e)?b.Easings[e]||(r=!1):r=d.isArray(e)&&1===e.length?s.apply(null,e):d.isArray(e)&&2===e.length?x.apply(null,e.concat([t])):d.isArray(e)&&4===e.length?l.apply(null,e):!1,r===!1&&(r=b.Easings[b.defaults.easing]?b.defaults.easing:m),r}function u(e){if(e){var t=(new Date).getTime(),r=b.State.calls.length;r>1e4&&(b.State.calls=i(b.State.calls));for(var n=0;r>n;n++)if(b.State.calls[n]){var s=b.State.calls[n],l=s[0],c=s[2],y=s[3],f=!!y,g=null;y||(y=b.State.calls[n][3]=t-16);for(var v=Math.min((t-y)/c.duration,1),m=0,x=l.length;x>m;m++){var k=l[m],C=k.element;if(o(C)){var _=!1;if(c.display!==a&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var P=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];p.each(P,function(e,t){S.setPropertyValue(C,"display",t)})}S.setPropertyValue(C,"display",c.display)}c.visibility!==a&&"hidden"!==c.visibility&&S.setPropertyValue(C,"visibility",c.visibility);for(var V in k)if("element"!==V){var T,$=k[V],A=d.isString($.easing)?b.Easings[$.easing]:$.easing;if(1===v)T=$.endValue;else{var z=$.endValue-$.startValue;if(T=$.startValue+z*A(v,c,z),!f&&T===$.currentValue)continue}if($.currentValue=T,"tween"===V)g=T;else{if(S.Hooks.registered[V]){var R=S.Hooks.getRoot(V),O=o(C).rootPropertyValueCache[R];O&&($.rootPropertyValue=O)}var M=S.setPropertyValue(C,V,$.currentValue+(0===parseFloat(T)?"":$.unitType),$.rootPropertyValue,$.scrollData);S.Hooks.registered[V]&&(o(C).rootPropertyValueCache[R]=S.Normalizations.registered[R]?S.Normalizations.registered[R]("extract",null,M[1]):M[1]),"transform"===M[0]&&(_=!0)}}c.mobileHA&&o(C).transformCache.translate3d===a&&(o(C).transformCache.translate3d="(0px, 0px, 0px)",_=!0),_&&S.flushTransformCache(C)}}c.display!==a&&"none"!==c.display&&(b.State.calls[n][2].display=!1),c.visibility!==a&&"hidden"!==c.visibility&&(b.State.calls[n][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],v,Math.max(0,y+c.duration-t),y,g),1===v&&h(n)}}b.State.isTicking&&w(u)}function h(e,t){if(!b.State.calls[e])return!1;for(var r=b.State.calls[e][0],i=b.State.calls[e][1],n=b.State.calls[e][2],s=b.State.calls[e][4],l=!1,c=0,u=r.length;u>c;c++){var h=r[c].element;if(t||n.loop||("none"===n.display&&S.setPropertyValue(h,"display",n.display),"hidden"===n.visibility&&S.setPropertyValue(h,"visibility",n.visibility)),n.loop!==!0&&(p.queue(h)[1]===a||!/\.velocityQueueEntryFlag/i.test(p.queue(h)[1]))&&o(h)){o(h).isAnimating=!1,o(h).rootPropertyValueCache={};var y=!1;p.each(S.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,i=o(h).transformCache[t];o(h).transformCache[t]!==a&&new RegExp("^\\("+r+"[^.]").test(i)&&(y=!0,delete o(h).transformCache[t])}),n.mobileHA&&(y=!0,delete o(h).transformCache.translate3d),y&&S.flushTransformCache(h),S.Values.removeClass(h,"velocity-animating")}if(!t&&n.complete&&!n.loop&&c===u-1)try{n.complete.call(i,i)}catch(f){setTimeout(function(){throw f},1)}s&&n.loop!==!0&&s(i),o(h)&&n.loop===!0&&!t&&(p.each(o(h).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),b(h,"reverse",{loop:!0,delay:n.delay})),n.queue!==!1&&p.dequeue(h,n.queue)}b.State.calls[e]=!1;for(var d=0,g=b.State.calls.length;g>d;d++)if(b.State.calls[d]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var p,y=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return a}(),f=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,a=(new Date).getTime();return r=Math.max(0,16-(a-e)),e=a+r,setTimeout(function(){t(a+r)},r)}}(),d={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==a&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},g=!1;if(e.fn&&e.fn.jquery?(p=e,g=!0):p=t.Velocity.Utilities,8>=y&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=y)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,m="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:m,begin:a,complete:a,progress:a,display:a,visibility:a,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){p.data(e,"velocity",{isSVG:d.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==a?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var x=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,a){var i={x:t.x+a.dx*r,v:t.v+a.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,a){var i={dx:r.v,dv:e(r)},n=t(r,.5*a,i),o=t(r,.5*a,n),s=t(r,a,o),l=1/6*(i.dx+2*(n.dx+o.dx)+s.dx),c=1/6*(i.dv+2*(n.dv+o.dv)+s.dv);return r.x=r.x+l*a,r.v=r.v+c*a,r}return function a(e,t,i){var n,o,s,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4,p=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,l.tension=e,l.friction=t,n=null!==i,n?(u=a(e,t),o=u/i*p):o=p;s=r(s||l,o),c.push(1+s.x),u+=16,Math.abs(s.x)>h&&Math.abs(s.v)>h;);return n?function(e){return c[e*(c.length-1)|0]}:u}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var S=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,a,i;if(y)for(r in S.Hooks.templates){a=S.Hooks.templates[r],i=a[0].split(" ");var n=a[1].match(S.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),n.push(n.shift()),S.Hooks.templates[r]=[i.join(" "),n.join(" ")])}for(r in S.Hooks.templates){a=S.Hooks.templates[r],i=a[0].split(" ");for(var e in i){var o=r+i[e],s=e;S.Hooks.registered[o]=[r,s]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=S.Hooks.registered[e];if(r){var a=r[0],i=r[1];return t=S.Hooks.cleanRootPropertyValue(a,t),t.toString().match(S.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,r){var a=S.Hooks.registered[e];if(a){var i,n,o=a[0],s=a[1];return r=S.Hooks.cleanRootPropertyValue(o,r),i=r.toString().match(S.RegEx.valueSplit),i[s]=t,n=i.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var a;return S.RegEx.wrappedValueAlreadyExtracted.test(r)?a=r:(a=r.toString().match(S.RegEx.valueUnwrap),a=a?a[1].replace(/,(\s+)?/g," "):r),a;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(r);if(!a&&0!==a){var i=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=i?i[1]:0}return a;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(8>=y)switch(e){case"name":return"filter";case"extract":var a=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){9>=y||b.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var e=0;e<S.Lists.transformsBase.length;e++)!function(){var t=S.Lists.transformsBase[e];S.Normalizations.registered[t]=function(e,r,i){switch(e){case"name":return"transform";case"extract":return o(r)===a||o(r).transformCache[t]===a?/^scale/i.test(t)?1:0:o(r).transformCache[t].replace(/[()]/g,"");case"inject":var n=!1;switch(t.substr(0,t.length-1)){case"translate":n=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":b.State.isAndroid&&o(r).transformCache[t]===a&&1>i&&(i=1),n=!/(\d)$/i.test(i);break;case"skew":n=!/(deg|\d)$/i.test(i);break;case"rotate":n=!/(deg|\d)$/i.test(i)}return n||(o(r).transformCache[t]="("+i+")"),o(r).transformCache[t]}}}();for(var e=0;e<S.Lists.colors.length;e++)!function(){var t=S.Lists.colors[e];S.Normalizations.registered[t]=function(e,r,i){switch(e){case"name":return t;case"extract":var n;if(S.RegEx.wrappedValueAlreadyExtracted.test(i))n=i;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?o=s[i]!==a?s[i]:s.black:S.RegEx.isHex.test(i)?o="rgb("+S.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(o=s.black),n=(o||i).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=y||3!==n.split(" ").length||(n+=" 1"),n;case"inject":return 8>=y?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=y?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(y||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,a=t.length;a>r;r++){var i;if(i=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),d.isString(b.State.prefixElement.style[i]))return b.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(r,function(e,t,r,a){return t+t+r+r+a+a}),t=a.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,r,i,n){function s(e,r){function i(){c&&S.setPropertyValue(e,"display","none")}var l=0;if(8>=y)l=p.css(e,r);else{var c=!1;if(/^(width|height)$/.test(r)&&0===S.getPropertyValue(e,"display")&&(c=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e))),!n){if("height"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return i(),u}if("width"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return i(),h}}var f;f=o(e)===a?t.getComputedStyle(e,null):o(e).computedStyle?o(e).computedStyle:o(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),l=9===y&&"filter"===r?f.getPropertyValue(r):f[r],(""===l||null===l)&&(l=e.style[r]),i()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(r)){var d=s(e,"position");("fixed"===d||"absolute"===d&&/top|left/i.test(r))&&(l=p(e).position()[r]+"px")}return l}var l;if(S.Hooks.registered[r]){var c=r,u=S.Hooks.getRoot(c);i===a&&(i=S.getPropertyValue(e,S.Names.prefixCheck(u)[0])),S.Normalizations.registered[u]&&(i=S.Normalizations.registered[u]("extract",e,i)),l=S.Hooks.extractValue(c,i)}else if(S.Normalizations.registered[r]){var h,f;h=S.Normalizations.registered[r]("name",e),"transform"!==h&&(f=s(e,S.Names.prefixCheck(h)[0]),S.Values.isCSSNullValue(f)&&S.Hooks.templates[r]&&(f=S.Hooks.templates[r][1])),l=S.Normalizations.registered[r]("extract",e,f)}if(!/^[\d-]/.test(l))if(o(e)&&o(e).isSVG&&S.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(d){l=0}else l=e.getAttribute(r);else l=s(e,S.Names.prefixCheck(r)[0]);return S.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,a,i,n){var s=r;if("scroll"===r)n.container?n.container["scroll"+n.direction]=a:"Left"===n.direction?t.scrollTo(a,n.alternateValue):t.scrollTo(n.alternateValue,a);else if(S.Normalizations.registered[r]&&"transform"===S.Normalizations.registered[r]("name",e))S.Normalizations.registered[r]("inject",e,a),s="transform",a=o(e).transformCache[r];else{if(S.Hooks.registered[r]){var l=r,c=S.Hooks.getRoot(r);i=i||S.getPropertyValue(e,c),a=S.Hooks.injectValue(l,a,i),r=c}if(S.Normalizations.registered[r]&&(a=S.Normalizations.registered[r]("inject",e,a),r=S.Normalizations.registered[r]("name",e)),s=S.Names.prefixCheck(r)[0],8>=y)try{e.style[s]=a}catch(u){b.debug&&console.log("Browser does not support ["+a+"] for ["+s+"]")}else o(e)&&o(e).isSVG&&S.Names.SVGAttribute(r)?e.setAttribute(r,a):e.style[s]=a;b.debug>=2&&console.log("Set "+r+" ("+s+"): "+a)}return[s,a]},flushTransformCache:function(e){function t(t){return parseFloat(S.getPropertyValue(e,t))}var r="";if((y||b.State.isAndroid&&!b.State.isChrome)&&o(e).isSVG){var a={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};p.each(o(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(r+=e+"("+a[e].join(" ")+") ",delete a[e])})}else{var i,n;p.each(o(e).transformCache,function(t){return i=o(e).transformCache[t],"transformPerspective"===t?(n=i,!0):(9===y&&"rotateZ"===t&&(t="rotate"),void(r+=t+i+" "))}),n&&(r="perspective"+n+" "+r)}S.setPropertyValue(e,"transform",r)}};S.Hooks.register(),S.Normalizations.register(),b.hook=function(e,t,r){var i=a;return e=n(e),p.each(e,function(e,n){if(o(n)===a&&b.init(n),r===a)i===a&&(i=b.CSS.getPropertyValue(n,t));else{var s=b.CSS.setPropertyValue(n,t,r);"transform"===s[0]&&b.CSS.flushTransformCache(n),i=s}}),i};var k=function C(){function e(){return s?V.promise||null:l}function i(){function e(e){function h(e,t){var r=a,i=a,o=a;return d.isArray(e)?(r=e[0],!d.isArray(e[1])&&/^[\d-]/.test(e[1])||d.isFunction(e[1])||S.RegEx.isHex.test(e[1])?o=e[1]:(d.isString(e[1])&&!S.RegEx.isHex.test(e[1])||d.isArray(e[1]))&&(i=t?e[1]:c(e[1],s.duration),e[2]!==a&&(o=e[2]))):r=e,t||(i=i||s.easing),d.isFunction(r)&&(r=r.call(n,w,k)),d.isFunction(o)&&(o=o.call(n,w,k)),[r||0,i,o]}function y(e,t){var r,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=S.Values.getUnitType(e)),[a,r]}function v(){var e={myParent:n.parentNode||r.body,position:S.getPropertyValue(n,"position"),fontSize:S.getPropertyValue(n,"fontSize")},a=e.position===M.lastPosition&&e.myParent===M.lastParent,i=e.fontSize===M.lastFontSize;M.lastParent=e.myParent,M.lastPosition=e.position,M.lastFontSize=e.fontSize;var s=100,l={};if(i&&a)l.emToPx=M.lastEmToPx,l.percentToPxWidth=M.lastPercentToPxWidth,l.percentToPxHeight=M.lastPercentToPxHeight;else{var c=o(n).isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");b.init(c),e.myParent.appendChild(c),p.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(c,t,"hidden")}),b.CSS.setPropertyValue(c,"position",e.position),b.CSS.setPropertyValue(c,"fontSize",e.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(c,t,s+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",s+"em"),l.percentToPxWidth=M.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(c,"width",null,!0))||1)/s,l.percentToPxHeight=M.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(c,"height",null,!0))||1)/s,l.emToPx=M.lastEmToPx=(parseFloat(S.getPropertyValue(c,"paddingLeft"))||1)/s,e.myParent.removeChild(c)}return null===M.remToPx&&(M.remToPx=parseFloat(S.getPropertyValue(r.body,"fontSize"))||16),null===M.vwToPx&&(M.vwToPx=parseFloat(t.innerWidth)/100,M.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=M.remToPx,l.vwToPx=M.vwToPx,l.vhToPx=M.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),n),l}if(s.begin&&0===w)try{s.begin.call(f,f)}catch(x){setTimeout(function(){throw x},1)}if("scroll"===T){var C,_,P,$=/^x$/i.test(s.axis)?"Left":"Top",A=parseFloat(s.offset)||0;s.container?d.isWrapped(s.container)||d.isNode(s.container)?(s.container=s.container[0]||s.container,C=s.container["scroll"+$],P=C+p(n).position()[$.toLowerCase()]+A):s.container=null:(C=b.State.scrollAnchor[b.State["scrollProperty"+$]],_=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===$?"Top":"Left")]],P=p(n).offset()[$.toLowerCase()]+A),l={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:P,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:$,alternateValue:_}},element:n},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,n)}else if("reverse"===T){if(!o(n).tweensContainer)return void p.dequeue(n,s.queue);"none"===o(n).opts.display&&(o(n).opts.display="auto"),"hidden"===o(n).opts.visibility&&(o(n).opts.visibility="visible"),o(n).opts.loop=!1,o(n).opts.begin=null,o(n).opts.complete=null,m.easing||delete s.easing,m.duration||delete s.duration,s=p.extend({},o(n).opts,s);var z=p.extend(!0,{},o(n).tweensContainer);for(var R in z)if("element"!==R){var O=z[R].startValue;z[R].startValue=z[R].currentValue=z[R].endValue,z[R].endValue=O,d.isEmptyObject(m)||(z[R].easing=s.easing),b.debug&&console.log("reverse tweensContainer ("+R+"): "+JSON.stringify(z[R]),n)}l=z}else if("start"===T){var z;o(n).tweensContainer&&o(n).isAnimating===!0&&(z=o(n).tweensContainer),p.each(g,function(e,t){if(RegExp("^"+S.Lists.colors.join("$|^")+"$").test(e)){var r=h(t,!0),i=r[0],n=r[1],o=r[2];if(S.RegEx.isHex.test(i)){for(var s=["Red","Green","Blue"],l=S.Values.hexToRgb(i),c=o?S.Values.hexToRgb(o):a,u=0;u<s.length;u++){
var p=[l[u]];n&&p.push(n),c!==a&&p.push(c[u]),g[e+s[u]]=p}delete g[e]}}});for(var j in g){var N=h(g[j]),G=N[0],F=N[1],L=N[2];j=S.Names.camelCase(j);var H=S.Hooks.getRoot(j),q=!1;if(o(n).isSVG||"tween"===H||S.Names.prefixCheck(H)[1]!==!1||S.Normalizations.registered[H]!==a){(s.display!==a&&null!==s.display&&"none"!==s.display||s.visibility!==a&&"hidden"!==s.visibility)&&/opacity|filter/.test(j)&&!L&&0!==G&&(L=0),s._cacheValues&&z&&z[j]?(L===a&&(L=z[j].endValue+z[j].unitType),q=o(n).rootPropertyValueCache[H]):S.Hooks.registered[j]?L===a?(q=S.getPropertyValue(n,H),L=S.getPropertyValue(n,j,q)):q=S.Hooks.templates[H][1]:L===a&&(L=S.getPropertyValue(n,j));var I,B,D,W=!1;if(I=y(j,L),L=I[0],D=I[1],I=y(j,G),G=I[0].replace(/^([+-\/*])=/,function(e,t){return W=t,""}),B=I[1],L=parseFloat(L)||0,G=parseFloat(G)||0,"%"===B&&(/^(fontSize|lineHeight)$/.test(j)?(G/=100,B="em"):/^scale/.test(j)?(G/=100,B=""):/(Red|Green|Blue)$/i.test(j)&&(G=G/100*255,B="")),/[\/*]/.test(W))B=D;else if(D!==B&&0!==L)if(0===G)B=D;else{i=i||v();var X=/margin|padding|left|right|width|text|word|letter/i.test(j)||/X$/.test(j)||"x"===j?"x":"y";switch(D){case"%":L*="x"===X?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:L*=i[D+"ToPx"]}switch(B){case"%":L*=1/("x"===X?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:L*=1/i[B+"ToPx"]}}switch(W){case"+":G=L+G;break;case"-":G=L-G;break;case"*":G=L*G;break;case"/":G=L/G}l[j]={rootPropertyValue:q,startValue:L,currentValue:L,endValue:G,unitType:B,easing:F},b.debug&&console.log("tweensContainer ("+j+"): "+JSON.stringify(l[j]),n)}else b.debug&&console.log("Skipping ["+H+"] due to a lack of browser support.")}l.element=n}l.element&&(S.Values.addClass(n,"velocity-animating"),E.push(l),""===s.queue&&(o(n).tweensContainer=l,o(n).opts=s),o(n).isAnimating=!0,w===k-1?(b.State.calls.push([E,f,s,null,V.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,u())):w++)}var i,n=this,s=p.extend({},b.defaults,m),l={};switch(o(n)===a&&b.init(n),parseFloat(s.delay)&&s.queue!==!1&&p.queue(n,s.queue,function(e){b.velocityQueueEntryFlag=!0,o(n).delayTimer={setTimeout:setTimeout(e,parseFloat(s.delay)),next:e}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=v;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=c(s.easing,s.duration),s.begin&&!d.isFunction(s.begin)&&(s.begin=null),s.progress&&!d.isFunction(s.progress)&&(s.progress=null),s.complete&&!d.isFunction(s.complete)&&(s.complete=null),s.display!==a&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=b.CSS.Values.getDisplayType(n))),s.visibility!==a&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(e,s.delay):e():p.queue(n,s.queue,function(t,r){return r===!0?(V.promise&&V.resolver(f),!0):(b.velocityQueueEntryFlag=!0,void e(t))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===p.queue(n)[0]||p.dequeue(n)}var s,l,y,f,g,m,x=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||d.isString(arguments[0].properties));if(d.isWrapped(this)?(s=!1,y=0,f=this,l=this):(s=!0,y=1,f=x?arguments[0].elements||arguments[0].e:arguments[0]),f=n(f)){x?(g=arguments[0].properties||arguments[0].p,m=arguments[0].options||arguments[0].o):(g=arguments[y],m=arguments[y+1]);var k=f.length,w=0;if(!/^(stop|finish)$/i.test(g)&&!p.isPlainObject(m)){var _=y+1;m={};for(var P=_;P<arguments.length;P++)d.isArray(arguments[P])||!/^(fast|normal|slow)$/i.test(arguments[P])&&!/^\d/.test(arguments[P])?d.isString(arguments[P])||d.isArray(arguments[P])?m.easing=arguments[P]:d.isFunction(arguments[P])&&(m.complete=arguments[P]):m.duration=arguments[P]}var V={promise:null,resolver:null,rejecter:null};s&&b.Promise&&(V.promise=new b.Promise(function(e,t){V.resolver=e,V.rejecter=t}));var T;switch(g){case"scroll":T="scroll";break;case"reverse":T="reverse";break;case"finish":case"stop":p.each(f,function(e,t){o(t)&&o(t).delayTimer&&(clearTimeout(o(t).delayTimer.setTimeout),o(t).delayTimer.next&&o(t).delayTimer.next(),delete o(t).delayTimer)});var $=[];return p.each(b.State.calls,function(e,t){t&&p.each(t[1],function(r,i){var n=m===a?"":m;return n===!0||t[2].queue===n||m===a&&t[2].queue===!1?void p.each(f,function(r,a){a===i&&((m===!0||d.isString(m))&&(p.each(p.queue(a,d.isString(m)?m:""),function(e,t){d.isFunction(t)&&t(null,!0)}),p.queue(a,d.isString(m)?m:"",[])),"stop"===g?(o(a)&&o(a).tweensContainer&&n!==!1&&p.each(o(a).tweensContainer,function(e,t){t.endValue=t.currentValue}),$.push(e)):"finish"===g&&(t[2].duration=1))}):!0})}),"stop"===g&&(p.each($,function(e,t){h(t,!0)}),V.promise&&V.resolver(f)),e();default:if(!p.isPlainObject(g)||d.isEmptyObject(g)){if(d.isString(g)&&b.Redirects[g]){var A=p.extend({},m),z=A.duration,R=A.delay||0;return A.backwards===!0&&(f=p.extend(!0,[],f).reverse()),p.each(f,function(e,t){parseFloat(A.stagger)?A.delay=R+parseFloat(A.stagger)*e:d.isFunction(A.stagger)&&(A.delay=R+A.stagger.call(t,e,k)),A.drag&&(A.duration=parseFloat(z)||(/^(callout|transition)/.test(g)?1e3:v),A.duration=Math.max(A.duration*(A.backwards?1-e/k:(e+1)/k),.75*A.duration,200)),b.Redirects[g].call(t,t,A||{},e,k,f,V.promise?V:a)}),e()}var O="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return V.promise?V.rejecter(new Error(O)):console.log(O),e()}T="start"}var M={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},E=[];p.each(f,function(e,t){d.isNode(t)&&i.call(t)});var j,A=p.extend({},b.defaults,m);if(A.loop=parseInt(A.loop),j=2*A.loop-1,A.loop)for(var N=0;j>N;N++){var G={delay:A.delay,progress:A.progress};N===j-1&&(G.display=A.display,G.visibility=A.visibility,G.complete=A.complete),C(f,"reverse",G)}return e()}};b=p.extend(k,b),b.animate=k;var w=t.requestAnimationFrame||f;return b.State.isMobile||r.hidden===a||r.addEventListener("visibilitychange",function(){r.hidden?(w=function(e){return setTimeout(function(){e(!0)},16)},u()):w=t.requestAnimationFrame||f}),e.Velocity=b,e!==t&&(e.fn.velocity=k,e.fn.velocity.defaults=b.defaults),p.each(["Down","Up"],function(e,t){b.Redirects["slide"+t]=function(e,r,i,n,o,s){var l=p.extend({},r),c=l.begin,u=l.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},y={};l.display===a&&(l.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(o,o);for(var r in h){y[r]=e.style[r];var a=b.CSS.getPropertyValue(e,r);h[r]="Down"===t?[a,0]:[0,a]}y.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in y)e.style[t]=y[t];u&&u.call(o,o),s&&s.resolver(o)},b(e,h,l)}}),p.each(["In","Out"],function(e,t){b.Redirects["fade"+t]=function(e,r,i,n,o,s){var l=p.extend({},r),c={opacity:"In"===t?1:0},u=l.complete;l.complete=i!==n-1?l.begin=null:function(){u&&u.call(o,o),s&&s.resolver(o)},l.display===a&&(l.display="In"===t?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,document)});var BuilderActions=function(){function e(t){_classCallCheck(this,e),this.style=t}return _createClass(e,[{key:"run",value:function(){var e=(document.querySelector(".Game_goban_gameplay"),document.querySelector(".Game_goban_grid")),t=$(".Game_goban"),r=$(".Game_goban_grid"),a=$(".Game_goban_gameplay");css.call(t,{width:""+gobanSize+"px",height:""+gobanSize+"px"}),width.call(a,gobanSize),height.call(a,gobanSize),css.call(a,{width:""+gobanSize+"px",height:""+gobanSize+"px"}),width.call(r,gobanSize),height.call(r,gobanSize),css.call(r,{width:""+gobanSize+"px",height:""+gobanSize+"px"});var i=grid_border_color_yellow;"purple"==this.style&&(i=grid_border_color_purple);for(var n=e.getContext("2d"),o=1;grid>=o;o++)n.beginPath(),n.moveTo(cellSize,cellSize*o),n.lineTo(gobanSize-cellSize,cellSize*o),n.lineWidth=grid_border_width,n.strokeStyle=i,n.stroke();for(var s=1;grid>=s;s++)n.beginPath(),n.moveTo(cellSize*s,cellSize),n.lineTo(cellSize*s,gobanSize-cellSize),n.lineWidth=i,n.stroke()}}]),e}(),GameplayActions=function(){function e(t){for(_classCallCheck(this,e),this.style=t,this.x=1;this.x<=grid;this.x++)for(this.y=1;this.y<=grid;this.y++)rocks.add({x:this.x,y:this.y})}return _createClass(e,[{key:"initialyze",value:function(){var e=document.querySelector(".Game_goban_gameplay");this.canvas=e.getContext("2d")}},{key:"addRock",value:function(e){var t=void 0===arguments[1]?"human":arguments[1],r=void 0===arguments[2]?null:arguments[2];if("human"==t?(this.x=Math.floor((e.layerX+cellSize/2)/cellSize),this.y=Math.floor((e.layerY+cellSize/2)/cellSize)):(this.x=e.x,this.y=e.y),"robot"==t||this.check()){this.getRock().add(players.getCurrent().getName()),players.getCurrent().updateHistoric({type:"add-rock",params:{x:this.x,y:this.y,type:r}});var a=rock_player1_color_dark;2==players.getCurrent().getName()&&(a=rock_player2_color),"purple"==this.style&&(a=rock_player1_color,2==players.getCurrent().getName()&&(a=rock_player2_color_dark));var i=this.canvas;return i.beginPath(),i.arc(this.x*cellSize,this.y*cellSize,rockSize/2,0,2*Math.PI,!1),i.closePath(),i.fillStyle=a,i.fill(),!0}return!1}},{key:"getRock",value:function(){var e=void 0===arguments[0]?"complete":arguments[0],t={x:this.x,y:this.y};return"simple"==e?t:rocks.select(t)}},{key:"checkKO",value:function(){var e=!1,t=players.getCurrent().getHistoric("last");return"add-rock"==t.type&&t.params.x==this.x&&t.params.y==this.y&&(e=!0),e}},{key:"checkSuicide",value:function(){var e=!1,t=this.getRock().getNeighboringRocks(players.getAdversary().getName()),r=0;this.cache=[];var a=!0,i=!1,n=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;-1==this.cache.indexOf(l.getChain())&&this.cache.push(l.getChain())}}catch(c){i=!0,n=c}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw n}}var u=!0,h=!1,p=void 0;try{for(var y,f=this.cache[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var d=y.value;if(1==chains.select(d).getLiberties()){var g=chains.select(d).getLiberties("objects")[0];g.x==this.x&&g.y==this.y&&r++}}}catch(c){h=!0,p=c}finally{try{!u&&f["return"]&&f["return"]()}finally{if(h)throw p}}if(0==r){t=this.getRock().getNeighboringRocks(players.getCurrent().getName()),this.cache=[];var v=!0,m=!1,b=void 0;try{for(var x,S=t[Symbol.iterator]();!(v=(x=S.next()).done);v=!0){var l=x.value;-1==this.cache.indexOf(l.getChain())&&this.cache.push(l.getChain())}}catch(c){m=!0,b=c}finally{try{!v&&S["return"]&&S["return"]()}finally{if(m)throw b}}var k=4;if((1==this.x||1==this.y||this.x==grid||this.y==grid)&&(k=1==this.x&&1==this.y||this.x==grid&&this.y==grid||1==this.x&&this.y==grid||this.x==grid&&1==this.y?2:3),0!=this.cache.length){r=0;var g=chains.select(this.cache[0]).getLiberties("objects")[0],w=!0,C=!1,_=void 0;try{for(var P,V=this.cache[Symbol.iterator]();!(w=(P=V.next()).done);w=!0){var T=P.value;1==chains.select(T).getLiberties()&&r++}}catch(c){C=!0,_=c}finally{try{!w&&V["return"]&&V["return"]()}finally{if(C)throw _}}r==this.cache.length&&g.x==this.x&&g.y==this.y&&g.getNeighboringRocks().length==k&&(e=!0)}else this.getRock().getNeighboringRocks(players.getAdversary().getName()).length==k&&(e=!0)}return e}},{key:"check",value:function(){return 1<=this.x&&this.x<=grid&&1<=this.y&&this.y<=grid&&0==this.getRock().getPlayer()&&!this.checkSuicide()&&!this.checkKO()?!0:!1}},{key:"switchPlayers",value:function(){var e=void 0===arguments[0]?"dispatcher":arguments[0];"user"==e&&players.getCurrent().updateHistoric({type:"next"}),players["switch"]()}},{key:"isFinished",value:function(){var e=void 0===arguments[0]?null:arguments[0],t=!1;return null!=e&&"next"==e.type&&"next"==players.getAdversary().getHistoric("last").type&&(t=!0),t}},{key:"gameOver",value:function(){alert("Game Over ! :/")}},{key:"setRock",value:function(e){this.x=e.x,this.y=e.y}},{key:"updateChains",value:function(){var e=this.getRock().getNeighboringRocks("current");if(0!=e.length){var t=[],r=!0,a=!1,i=void 0;try{for(var n,o=e[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;-1==t.indexOf(s.getChain())&&t.push(s.getChain())}}catch(l){a=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}if(1==t.length)var c=t[0];else{t=t.sort();var u=t[0],h=!0,p=!1,y=void 0;try{for(var f,d=t.reverse()[Symbol.iterator]();!(h=(f=d.next()).done);h=!0){var g=f.value;if(g!=u){var v=!0,m=!1,b=void 0;try{for(var x,S=chains.select(g).getRocks()[Symbol.iterator]();!(v=(x=S.next()).done);v=!0){var s=x.value;rocks.select(s).setChain(u)}}catch(l){m=!0,b=l}finally{try{!v&&S["return"]&&S["return"]()}finally{if(m)throw b}}chains.join(u,g),chains.select(g).remove()}}}catch(l){p=!0,y=l}finally{try{!h&&d["return"]&&d["return"]()}finally{if(p)throw y}}var c=u}}else{var c=chains.count();chains.add(c)}chains.select(c).addRock(this.getRock("simple")),this.getRock().setChain(c)}},{key:"updateGoban",value:function(){var e=this.getRock().getNeighboringRocks("ennemy"),t=[];if(0!=e.length){var r=[],a=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;-1==r.indexOf(l.getChain())&&r.push(l.getChain())}}catch(c){i=!0,n=c}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw n}}var u=!0,h=!1,p=void 0;try{for(var y,f=r[Symbol.iterator]();!(u=(y=f.next()).done);u=!0){var d=y.value;if(0==chains.select(d).getLiberties()){var g=!0,v=!1,m=void 0;try{for(var b,x=chains.select(d).getRocks()[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var l=b.value,S=l.x*cellSize-1-rockSize/2,k=l.y*cellSize-1-rockSize/2;this.canvas.clearRect(S,k,rockSize+2,rockSize+2),rocks.select(l).remove(),t.push({x:l.x,y:l.y,player:players.getCurrent().getName()})}}catch(c){v=!0,m=c}finally{try{!g&&x["return"]&&x["return"]()}finally{if(v)throw m}}}}}catch(c){h=!0,p=c}finally{try{!u&&f["return"]&&f["return"]()}finally{if(h)throw p}}}return t}}]),e}(),gameplayRobotActions=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.delay=0}return _inherits(t,e),_createClass(t,[{key:"initialyze",value:function(){_get(Object.getPrototypeOf(t.prototype),"initialyze",this).call(this)}},{key:"getDelay",value:function(){return this.delay}},{key:"getLastRock",value:function(){return{x:this.x,y:this.y}}},{key:"play",value:function(){var e=this;this.delay=Math.floor(200*Math.random())+50,this.type="null";var r=0;do{var a=Math.floor(18*Math.random())+1;if(players.getCurrent().getTour()<2||14==a)this.x=Math.floor(Math.random()*grid)+1,this.y=Math.floor(Math.random()*grid)+1,this.type="random";else{var i=[],n=0,o=!0,s=!1,l=void 0;try{for(var c,u=players.getCurrent().getHistoric()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;void 0!=h&&void 0!=h.params&&void 0!=h.params.type&&(n++,-1==i.indexOf(h.params.type)&&i.push(h.params.type))}}catch(p){s=!0,l=p}finally{try{!o&&u["return"]&&u["return"]()}finally{if(s)throw l}}if(3!=n||1!=i.length||"defensive"!=i[0]){var y=this.collectRocks("current","in-danger","defensive");y&&(this.x=y.x,this.y=y.y,this.type=y.type)}if((3!=n||1!=i.length||"offensive"!=i[0])&&"Offensive"!=this.type){var y=this.collectRocks("adversary","in-danger","offensive");y&&(this.x=y.x,this.y=y.y,this.type=y.type)}if("defensive"!=this.type&&"offensive"!=this.type){var y=this.collectRocks("adversary","sustainable","sustainable");y&&(this.x=y.x,this.y=y.y,this.type=y.type)}"defensive"!=this.type&&"offensive"!=this.type&&"sustainable"!=this.type&&(this.x=Math.floor(Math.random()*grid)+1,this.y=Math.floor(Math.random()*grid)+1,this.type="random")}r++}while(!_get(Object.getPrototypeOf(t.prototype),"check",this).call(this)&&60>r);if("null"!=this.type){var f=function(){var r={x:e.x,y:e.y};return setTimeout(function(){_set(Object.getPrototypeOf(t.prototype),"x",e.x,e),_set(Object.getPrototypeOf(t.prototype),"y",e.y,e),_get(Object.getPrototypeOf(t.prototype),"addRock",e).call(e,r,"robot",e.type)},e.delay),{v:!0}}();if("object"==typeof f)return f.v}return!1}},{key:"collectRocks",value:function(e,t,r){var a=[],i=[],n=0;"curent"==e?a=players.getCurrent().getChains():"adversary"==e&&(a=players.getAdversary().getChains());var o=!0,s=!1,l=void 0;try{for(var c,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;h=chains.select(h);var p=h.getLiberties(),y=5>p&&h.getBorders("count")>2;if("sustainable"==t&&(y=!0,n=9999),y){var f=!0,d=!1,g=void 0;try{for(var v,m=h.getLiberties("objects")[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var b=v.value,x=parseInt(b.getLiberties());x>1&&(i.push({x:b.x,y:b.y,liberties:x}),y=x>parseInt(n),"sustainable"==t&&(y=x<parseInt(n)),y&&(n=x))}}catch(S){d=!0,g=S}finally{try{!f&&m["return"]&&m["return"]()}finally{if(d)throw g}}}}}catch(S){s=!0,l=S}finally{try{!o&&u["return"]&&u["return"]()}finally{if(s)throw l}}if(0!=i.length){var b=i[Math.floor(Math.random()*i.length)],k=0;do b=i[Math.floor(Math.random()*i.length)],k++;while(b.liberties!=n&&40>k);return{x:b.x,y:b.y,type:r}}return!1}}]),t}(GameplayActions),SaveActions=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"update",value:function(){var e=[];sessionStorage.setItem("chains",JSON.stringify(chains,function(t,r){if(null!=r&&"object"==typeof r){if(e.indexOf(r)>=0)return;e.push(r)}return r})),e=[],sessionStorage.setItem("rocks",JSON.stringify(rocks,function(t,r){if(null!=r&&"object"==typeof r){if(e.indexOf(r)>=0)return;e.push(r)}return r}))}}]),e}(),ScoreActions=function(){function e(){_classCallCheck(this,e),this.players=[],this.players[0]={winner:0},this.players[1]={prisoners:0,chains:0,total:0},this.players[2]={prisoners:0,chains:0,total:0}}return _createClass(e,[{key:"update",value:function(e){var t=!0,r=!1,a=void 0;try{for(var i,n=e[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;this.players[o.player].prisoners++}}catch(s){r=!0,a=s}finally{try{!t&&n["return"]&&n["return"]()}finally{if(r)throw a}}}},{key:"get",value:function(){return this.players[1].chains=players.get(1).getChains().length,this.players[2].chains=players.get(2).getChains().length,this.players[1].total=this.players[1].chains+this.players[1].prisoners,this.players[2].total=this.players[2].chains+this.players[2].prisoners,this.players[2].total>this.players[1].total?this.players[0].winner=2:this.players[2].total<this.players[1].total&&(this.players[0].winner=1),this.players}}]),e}(),ViewActions=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"showChoicePlayers",value:function(e){var t=$(".SelectMode_item.-rush"),r=$(".SelectMode_item.-clash"),a=$(".SelectMode_help"),i=r,n=t;"rush"==e&&(i=t,n=r),Velocity(n[0],{opacity:.4}),addClass.call(i,"is-active"),setTimeout(function(){var e=$(".SelectMode_minion");Velocity(a,{opacity:0}),Velocity(e[0],{top:"-100%"},{delay:300,duration:400}),Velocity(i[0],{top:"-100%"},{delay:500,duration:400,complete:function(){Velocity($("body")[0],{backgroundColor:"#ffd850"},{delay:400});var e=$(".SelectMode");remove.call(e),insert.call($wrapper,'\n                        <div class="ChoosePlayer" style="opacity:0">\n                            <h1 style="top: -600px" class="ChoosePlayer_title">Choisis ton camp <span class="-yellow">Jaune</span> <span class="-italic">vs</span> <span class="-purple">Violet</span></h1>\n                            <a href="#" class="ChoosePlayer_item -yellow" style="top: -100%"></a>\n                            <a href="#" class="ChoosePlayer_item -purple" style="top: -100%"></a>\n                        </div>\n                    ');var t=$(".ChoosePlayer"),r=($(".ChoosePlayer_item"),$(".ChoosePlayer_item.-yellow")),a=$(".ChoosePlayer_item.-purple"),i=$(".ChoosePlayer_title");Velocity(t,{opacity:1},{delay:400}),setTimeout(function(){Velocity(r,{top:0},{delay:500}),Velocity(a,{top:0},{delay:900}),Velocity(i,{top:0},{delay:1300})})}}),Velocity(n[0],{top:"-100%"},{delay:160,duration:400})},600)}},{key:"showGoban",value:function(e){var t=this,r=$(".ChoosePlayer"),a=($(".ChoosePlayer_item"),$(".ChoosePlayer_item.-yellow")),i=$(".ChoosePlayer_item.-purple"),n=$(".ChoosePlayer_title"),o=a,s=i;"player2"==e&&(o=i,s=a),Velocity(n,{translateY:"-200%"},{duration:500}),Velocity(s,{top:"-100%"},{delay:200,duration:400});var l="50%",c="-50%";if("player2"==e){Velocity($("body")[0],{backgroundColor:"#9669d1"})}Velocity(o,{left:l,translateX:c},{delay:600,duration:600,complete:function(){addClass.call(o,"is-active"),setTimeout(function(){Velocity(r[0],{opacity:0},{complete:function(){remove.call(r);var a="yellow";"player2"==e&&(a="purple"),players.initialyze("player1"==e?1:2),insert.call($wrapper,'\n                                <div class="Game -'+a+'">\n                                    <div class="Game_goban" style="margin-top: 150%">\n                                        <canvas class="Game_goban_grid"></canvas>\n                                        <canvas class="Game_goban_gameplay"></canvas>\n                                    </div>\n                                    <div class="Game_control" style="margin-top: 150%">\n                                        <span class="Game_control_currentPlayer">Joueur '+players.getCurrent().getName()+'</span>\n                                        <a role="button" class="Game_control_button -next">Passer mon tour</a>\n                                        <a role="button" class="Game_control_button -stop">Abandonner</a>\n                                        <a role="button" class="Game_control_button -stop">Sauvegarder</a>\n                                    </div>\n                                </div>\n                            '),t.Builder=new BuilderActions(a),t.Builder.run();var i=$(".Game_goban"),n=$(".Game_control");Velocity(i,{marginTop:0},{duration:400,delay:100}),Velocity(n,{marginTop:0},{duration:400,delay:200})}})},900)}})}},{key:"showScore",value:function(e,t){var r=$(".Game_goban"),a=$(".Game_control");Velocity(r,{marginTop:"150%"},{duration:400,delay:100}),Velocity(a,{marginTop:"150%"},{duration:400,delay:200,complete:function(){var e;(e=$(".Game"),remove).call(e)}}),Velocity($("body")[0],{backgroundColor:"#fffed7"},{duration:400,delay:280});var i;0==e[0].winner?i="-equal":e[0].winner!=t&&(i="-loose"),insert.call($wrapper,'\n            <div class="Score" style="top: 150%">\n                <div class="Score_minion '+i+'"></div>\n                <a class="Score_restart" style="margin-top: 102px;"></a>\n                <div class="Score_players">\n                    <div class="Score_player">\n                        <h2 class="Score_player_title">Joueur 1</h2>\n                        <ul class="Score_player_list">\n                            <li class="Score_player_item">Pierres mangées: '+e[1].prisoners+'</li>\n                            <li class="Score_player_item">Territoire: '+e[1].chains+'</li>\n                        </ul>\n                        <span class="Score_player_total">Total: '+e[1].total+'</span>\n                    </div>\n                    <div class="Score_player">\n                        <h2 class="Score_player_title">Joueur 2</h2>\n                        <ul class="Score_player_list">\n                            <li class="Score_player_item">Pierres mangées: '+e[2].prisoners+'</li>\n                            <li class="Score_player_item">Territoire: '+e[2].chains+'</li>\n                        </ul>\n                        <span class="Score_player_total">Total: '+e[2].total+'</span>\n                    </div>\n                </div>\n                <div class="Score_share">\n                    <span role="button" class="Score_share_item -twitter">Twitter</span>\n                    <span role="button" href="" class="Score_share_item -facebook">Facebook</span>\n                </div>\n            </div>\n        '),Velocity($(".Score")[0],{top:0},{duration:500,delay:400,complete:function(){Velocity($(".Score_restart")[0],{marginTop:0},{duration:280,complete:function(){var e;(e=$(".Score_restart"),css).call(e,{zIndex:10})}})}})}},{key:"showChoiceMode",value:function(){var e;(e=$(".Score_restart"),css).call(e,{zIndex:-1}),Velocity($(".Score_restart"),{marginTop:"102px"}),Velocity($(".Score"),{top:"150%"},{delay:500,complete:function(){var e;(e=$(".Score"),remove).call(e),Velocity($("body"),{backgroundColor:"#fdd961"}),insert.call($wrapper,'\n                    <div class="SelectMode">\n                        <div class="SelectMode_item -rush" style="margin-top: 150%">Minion Rush <p>Envie de jouer entre amis au sein d\'un mode multijouer ?</p></div>\n                        <div class="SelectMode_item -clash" style="margin-top: 150%">Minion Clash <p>Tenterez-vous de combatre notre féroce intelligence artificielle ?</p></div>\n                        <div class="SelectMode_minion" style="top: -150%"></div>\n                        <div class="SelectMode_help">BESOINS D’AIDE DANS LE CHOIX DE VOTRE MODE ?</div>\n                    </div>\n                '),Velocity($(".SelectMode_minion"),{top:"50%"}),Velocity($(".SelectMode_item.-rush"),{marginTop:0},{delay:200}),Velocity($(".SelectMode_item.-clash"),{marginTop:0},{delay:400})}})}},{key:"switchPlayers",value:function(){var e=$(".Game_control_currentPlayer");text.call(e,"Joueur "+players.getCurrent().getName())}},{key:"showFacebookShare",value:function(e){var t="minions.leolebras.com";window.open("http://www.facebook.com/sharer.php?s=100&p[title]=Nouveau score !&p[summary]=J’ai atteint "+e[1].total+" points sur minionsindagame.com : on parie que personne ne fait mieux ? Do or do not: there is no try! »&p[url]="+t,"sharer","width=700","height=450")}},{key:"showTwitterShare",value:function(e){var t="minions.leolebras.com";window.open("https://twitter.com/intent/tweet?text=J’ai atteint "+e[1].total+" points sur "+t+" : on parie que personne ne fait mieux ? Do or do not: there is no try! »&source=webclient","Tweet your record","width=700, height=450")}}]),e}(),GameplayDispatcher=function(){function e(){_classCallCheck(this,e),this.Save=new SaveActions,this.Score=new ScoreActions,this.View=new ViewActions,this.listenner()}return _createClass(e,[{key:"update",value:function(){this.Gameplay.updateChains();var e=this.Gameplay.updateGoban();this.Score.update(e),this.Gameplay.switchPlayers(),this.View.switchPlayers()}},{key:"listenner",value:function(){var e=this,t=$(".SelectMode_item.-rush");on.call(t,"click",function(){e.View.showChoicePlayers("rush"),e.initialyzePlayers("rush")});var r=$(".SelectMode_item.-clash");on.call(r,"click",function(){e.View.showChoicePlayers("clash"),e.initialyzePlayers("clash")});var a=$(".SelectMode_help");on.call(a,"click",function(){hasClass.call(r,"is-helped")?(removeClass.call(r,"is-helped"),removeClass.call(t,"is-helped")):(addClass.call(r,"is-helped"),addClass.call(t,"is-helped"))})}},{key:"initialyzePlayers",value:function(e){var t=this;setTimeout(function(){var r=$(".ChoosePlayer_item.-yellow"),a=$(".ChoosePlayer_item.-purple");on.call(r,"click",function(){t.View.showGoban("player1",e,1),t.initialyzeGameplay("player1",e,1)}),on.call(a,"click",function(){t.View.showGoban("player2",e,2),t.initialyzeGameplay("player2",e,2)})},3e3)}},{key:"initialyzeGameplay",value:function(e,t,r){var a=this,i="yellow";"player2"==e&&(i="purple");var n=t;setTimeout(function(){a.Gameplay=new GameplayActions(i),a.Gameplay.initialyze(),"clash"==n&&(a.AI=new gameplayRobotActions(i),a.AI.initialyze());var e=$(".Game_goban");on.call(e,"click",function(e){a.Gameplay.addRock(e)&&(a.update(),"clash"==n&&players.getCurrent().getName()!=r&&(a.AI.play()?setTimeout(function(){a.Gameplay.setRock(a.AI.getLastRock()),a.update()},a.AI.getDelay()):trigger.call(s,"click")))});var t=$(".Game_control_button.-stop");on.call(t,"click",function(){a.initialyzeScore(r)});var o=$(".Game_control_button.-save");on.call(o,"click",function(){a.Save().update()});var s=$(".Game_control_button.-next");on.call(s,"click",function(){a.Gameplay.isFinished({type:"next",player:"players.getCurrent()"})?a.initialyzeScore(r):(a.Gameplay.switchPlayers("user"),a.View.switchPlayers())})},3300)}},{key:"initialyzeScore",value:function(e){var t=this,r=this.Score.get();this.View.showScore(r,e);var a=$(".Score_share_item.-facebook"),i=$(".Score_share_item.-twitter"),n=$(".Score_restart");on.call(a,"click",function(){t.View.showFacebookShare(r)}),on.call(i,"click",function(){t.View.showTwitterShare(r)}),on.call(n,"click",function(){t.View.showChoiceMode(),setTimeout(function(){t.listenner()},1900)})}}]),e}(),mode="clash",grid=13,$goban=$(".Game_goban"),$goban_grid=$(".Game_goban_grid"),$goban_gameplay=$(".Game_goban_gameplay"),$next=$(".Game_control_button.-next"),$stop=$(".Game_control_button.-stop"),$wrapper=$(".Wrapper"),$choicePlayers=$(".ChoosePlayer"),$player=$(".ChoosePlayer_item"),$player1=$(".ChoosePlayer_item.-yellow"),$player2=$(".ChoosePlayer_item.-purple"),$playerCurrent=$(".Game_control_currentPlayer"),$choiceModes=$(".SelectMode"),$choiceModes_minion=$(".SelectMode_minion"),$rush=$(".SelectMode_item.-rush"),$clash=$(".SelectMode_item.-clash"),$facebook=$(".Score_share_item.-facebook"),$twitter=$(".Score_share_item.-twitter"),$goban_gameplay_canvas=document.querySelector(".Game_goban_gameplay"),$goban_grid_canvas=document.querySelector(".Game_goban_grid"),cellSize=40,gobanSize=(grid+1)*cellSize,grid_border_width=1,grid_border_color_purple="rgba(255,255,255,.3)",grid_border_color_yellow="rgba(0,0,0,.15)",rockSize=24,rock_player1_color="#ffd84e",rock_player1_color_dark="#DDB316",rock_player2_color="#966ad1",rock_player2_color_dark="#6D479D",Chains=function(){function e(){_classCallCheck(this,e),this.chains=[]}return _createClass(e,[{key:"select",value:function(e){return this.chains[e]}},{key:"get",value:function(){return this.chains}},{key:"count",value:function(){return this.chains.length}},{key:"add",value:function(e){this.chains[e]=new Chain(e,players.getCurrent().getName())}},{key:"join",value:function(e,t){var r;(r=this.chains[e].rocks).push.apply(r,_toConsumableArray(this.chains[t].rocks))}}]),e}(),Chain=function(){function e(t,r){_classCallCheck(this,e),this.name=t,this.state="alive",this.rocks=[],this.border=[],this.territory=[],this.cache=[],this.player=r}return _createClass(e,[{key:"remove",value:function(){this.rocks=[],this.state="dead"}},{key:"addRock",value:function(e){this.rocks.push(e)}},{key:"getRocks",value:function(){return this.rocks.sort()}},{key:"getName",value:function(){return this.name}},{key:"getPlayer",value:function(){return this.player}},{key:"getBorders",value:function(){var e=this,t=void 0===arguments[0]?"objects":arguments[0];return this.border=function(){var t=[],r=!0,a=!1,i=void 0;try{for(var n,o=e.rocks[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value;4!=rocks.select({x:s.x,y:s.y}).getNeighboringRocks("current").length&&t.push(s)}}catch(l){a=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return t}(),"count"==t?this.border.length:this.border.sort()}},{key:"getLiberties",value:function(){var e=void 0===arguments[0]?"count":arguments[0];this.liberties=[];var t=void 0;this.cache=[];var r=!0,a=!1,i=void 0;try{for(var n,o=this.getBorders(rocks)[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var s=n.value,l=!0,c=!1,u=void 0;try{for(var h,p=rocks.select(s).getLiberties("objects")[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value;t=""+y.x+";"+y.y,-1==this.cache.indexOf(t)&&(this.liberties.push(y),this.cache.push(t))}}catch(f){c=!0,u=f}finally{try{!l&&p["return"]&&p["return"]()}finally{if(c)throw u}}}}catch(f){a=!0,i=f}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw i}}return"count"==e?this.liberties.length:this.liberties}}]),e}(),chains=new Chains,Players=function(){
function e(){_classCallCheck(this,e),this.current=1,this.players=[],this.players[1]=new Player(1),this.players[2]=new Player(2)}return _createClass(e,[{key:"initialyze",value:function(e){this.current=e}},{key:"getCurrent",value:function(){return this.players[this.current]}},{key:"getAdversary",value:function(){return this.players[(this.current+2)%2+1]}},{key:"get",value:function(e){return this.players[e]}},{key:"switch",value:function(){this.current=this.current++%2+1}}]),e}(),Player=function(){function e(t){_classCallCheck(this,e),this.chains=[],this.tour=0,this.name=t,this.historic=[],this.historic[0],this.historic[1],this.historic[2]={type:""}}return _createClass(e,[{key:"getName",value:function(){return this.name}},{key:"getTour",value:function(){return this.tour}},{key:"updateHistoric",value:function(e){this.historic[0]=this.historic[1],this.historic[1]=this.historic[2],this.historic[2]=e,this.tour++}},{key:"getHistoric",value:function(){var e=void 0===arguments[0]?"all":arguments[0],t=this.historic;return"last"==e&&(t=this.historic[2]),t}},{key:"getChains",value:function(){this.chains=[];var e=!0,t=!1,r=void 0;try{for(var a,i=chains.get()[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var n=a.value;n.getPlayer()==players.getCurrent().getName()&&this.chains.push(n.getName())}}catch(o){t=!0,r=o}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw r}}return this.chains}}]),e}(),players=new Players,Rocks=function(){function e(){_classCallCheck(this,e),this.rocks=[]}return _createClass(e,[{key:"select",value:function(e){return void 0!=this.rocks[e.x]&&void 0!=this.rocks[e.x][e.y]?this.rocks[e.x][e.y]:!1}},{key:"get",value:function(){return this.rocks}},{key:"add",value:function(e){void 0==this.rocks[e.x]&&(this.rocks[e.x]=[]),this.rocks[e.x][e.y]=new Rock(e)}}]),e}(),Rock=function(){function e(t){_classCallCheck(this,e),this.chain=0,this.x=t.x,this.y=t.y,this.player=0}return _createClass(e,[{key:"add",value:function(e){this.player=e}},{key:"remove",value:function(){this.player=0}},{key:"getPlayer",value:function(){return this.player}},{key:"setChain",value:function(e){this.chain=e}},{key:"getChain",value:function(){return this.chain}},{key:"getNeighboringRocks",value:function(){var e=this,t=void 0===arguments[0]?"all":arguments[0];this.neighboringRocks=[],this.cache=[];for(var r=1;4>=r;r++){var a=this.x,i=this.y;switch(r){case 1:i-=1;break;case 2:a++;break;case 3:i++;break;case 4:a-=1}var n=rocks.select({x:a,y:i});("empty"!=t&&n&&0!=n.getPlayer()||"empty"==t&&n&&0==n.getPlayer())&&this.cache.push(n)}return"all"!=t&&"empty"!=t?!function(){var r=t;"string"==typeof t&&(r=(e.getPlayer()+2)%2+1,"current"==t&&(r=e.getPlayer())),e.neighboringRocks=function(){var t=[],a=!0,i=!1,n=void 0;try{for(var o,s=e.cache[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;l.getPlayer()==r&&t.push(l)}}catch(c){i=!0,n=c}finally{try{!a&&s["return"]&&s["return"]()}finally{if(i)throw n}}return t}()}():this.neighboringRocks=this.cache,this.neighboringRocks.sort()}},{key:"getLiberties",value:function(){var e=void 0===arguments[0]?"count":arguments[0],t=this.getNeighboringRocks("empty");return"count"==e?t.length:t}}]),e}(),rocks=new Rocks,options={goban:{element:".Game_goban"},gameplay:{element:".Game_goban_gameplay"},grid:{nbre:13,element:".Game_goban_grid",cellSize:40,backgroundColor:"white",borderColor:"black",borderWidth:2},rock:{size:20,player1:"grey",player2:"black"},control:{next:".Game_control_next",stop:".Game_controle_stop"}};GoGame(options);